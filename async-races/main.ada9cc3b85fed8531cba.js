(()=>{"use strict";var t={625:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.page-buttons-container{display:flex;justify-content:space-between;gap:2.5rem;padding:1rem 0;max-width:45rem;margin:0 auto}.page-button{flex:1 0 12rem;font-family:"Stylish", serif;font-size:1.6rem;font-weight:600;text-transform:uppercase;padding:.8rem 3rem;border:none;border-radius:.5rem;background-color:#fff;cursor:pointer;transition:.2s}.page-button:hover{color:#fff;background-color:blueviolet}.page-button.active{color:#fff;background-color:blueviolet}\n',""]);const o=s},721:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.car-item{display:flex;flex-wrap:wrap;column-gap:1rem;box-shadow:1px 1px 3px dimgray;padding:.7rem;border-radius:.3rem;gap:.7rem}.car-item p{padding:.1rem 1rem;border:1px solid black;border-radius:4px;font-size:1.6rem;font-weight:bold;user-select:none}.car-item .car-road{display:flex;width:100%;align-items:center;gap:1rem}.car-item .start-stop-wrapper{display:flex;align-items:center;gap:1rem}.car-item .road{border-bottom:3px dashed dimgray;position:relative;display:flex;width:92%}.car-item .car svg{width:50px;height:28px}.car-item .car{display:flex;align-items:flex-end;position:relative;bottom:-5px}.car-item .fire{opacity:0;position:absolute;left:3.6rem;top:-0;transition:1s}.car-item .smoke{opacity:0;position:absolute;left:1rem;top:-1.4rem;transform:rotate(-25deg);transition:1.9s}.car-item .finish svg{width:30px;height:30px}.car-item .finish{position:absolute;width:30px;height:30px;right:35px}.car-item .start{padding:2px 7px;color:#fff;background-color:blueviolet;cursor:pointer;transition:.3s}.car-item .start:hover{transform:scale(1.05)}.car-item .stop{padding:2px 7px;color:#fff;background-color:royalblue;cursor:pointer;transition:.3s}.car-item .stop:hover{transform:scale(1.05)}.car-item button{font-family:"Stylish", serif;font-size:1.6rem;border:none;padding:0 1rem;font-weight:600;border-radius:4px;color:#2b2b2b;background-color:#fff;cursor:pointer;transition:.3s;height:25px}.car-item button:hover{background-color:mediumspringgreen;color:#2b2b2b}.car-item button:disabled{transform:scale(0.95);background-color:dimgray;cursor:not-allowed;color:#fff}.car-item button:disabled:hover{transform:scale(0.95)}@media (max-width: 600px){.car-item{position:relative}.car-item p{position:absolute;left:11rem;top:3.9rem}.car-item .car-road{flex-direction:column;align-items:flex-start}.car-item .road{width:100%}}\n',""]);const o=s},244:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.car-builder-panel{display:flex;justify-content:space-between;align-items:center;gap:0.5em}.car-builder-panel button{padding:.3rem .5rem;font-size:1.6rem;font-weight:bold;font-family:"Stylish", serif;text-transform:uppercase;flex:1 1 auto;border:none;border-radius:4px;cursor:pointer;color:black;background-color:white;transition:.3s}.car-builder-panel button:hover{color:white;background-color:blueviolet;transform:scale(1.05)}.car-builder-panel button:disabled,.car-builder-panel .input-car-name:disabled{transform:scale(1);box-shadow:none;background-color:dimgray;color:#fff;cursor:not-allowed}.car-builder-panel button:disabled:hover,.car-builder-panel .input-car-name:disabled:hover{background-color:dimgray}.input-car-name{font-size:1.6rem;font-weight:600;font-family:"Stylish", serif;border-radius:.4rem;flex:0 2 25rem;padding:.3rem 1rem;color:#2b2b2b;border:none;outline:none;transition:.2s}.input-car-name:hover{box-shadow:0 2px 5px blueviolet}.input-color-picker{padding:0;appearance:none;border:none;flex:0 0 30px;width:30px;height:30px;cursor:pointer;background-color:transparent;transition:.2s}.input-color-picker:hover{border-color:#999}.input-color-picker::-webkit-color-swatch{border-radius:50%}.input-color-picker::-webkit-color-swatch:hover{transform:scale(1.1)}.input-color-picker:disabled{transform:scale(1);cursor:not-allowed}.input-color-picker:hover,.input-car-name:hover{transform:scale(1.02)}\n',""]);const o=s},679:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.control-buttons{display:flex;justify-content:space-between;gap:0.5em}.control-buttons button{font-size:16px;font-weight:700;font-family:"Stylish", serif;text-transform:uppercase;padding:.5rem 0;border-radius:4px;border:none;background:white;color:black;cursor:pointer;transition:.3s}.control-buttons button:hover{color:white;background-color:blueviolet;transform:scale(1.05)}.control-buttons button:disabled{color:white;background-color:dimgray;transform:scale(1);cursor:not-allowed}.control-buttons .race,.control-buttons .reset{flex:1 1 auto}.control-buttons .cars-generator{flex:1 1 auto}.control-buttons .cars-generator:hover{transform:scale(1.02)}\n',""]);const o=s},664:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,".page-data-counter{display:flex;justify-content:space-around;gap:1rem;margin-top:1rem;max-width:45rem;width:100%;font-size:1.6rem;user-select:none}.page-data-counter p{padding:.8rem 2.2rem;border:1px solid rgba(255,255,255,0.5);border-radius:4px;color:#000;font-weight:bold}\n",""]);const o=s},299:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.pagination{display:flex;justify-content:start;margin-top:1rem;gap:1.75rem}.pagination .prev:disabled,.pagination .next:disabled{background-color:dimgray;color:#fff;transform:scale(0.95);cursor:not-allowed}.pagination .prev:disabled:hover,.pagination .next:disabled:hover{background-color:dimgray}.pagination button{font-family:"Stylish", serif;font-size:1.8rem;font-weight:bold;text-transform:uppercase;padding:.5rem 1.8rem;border:none;border-radius:4px;background-color:#fff;cursor:pointer;transition:.3s}.pagination button:hover{transform:scale(1.05)}.pagination button.next:hover,.pagination button.prev:hover{background-color:blueviolet;color:#fff}\n',""]);const o=s},993:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,".panel{display:flex;flex-direction:column;gap:1rem;max-width:45rem;width:100%;border:1px solid rgba(255,255,255,0.5);border-radius:.5rem;padding:1rem 1.5rem}\n",""]);const o=s},493:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,".garage-list{display:flex;flex-direction:column;border:1px solid rgba(255,255,255,0.5);padding:1rem;margin:1rem auto 1.5rem;width:100%;max-width:120rem;border-radius:.3rem;row-gap:1rem}.garage{display:flex;flex-direction:column;align-items:center}\n",""]);const o=s},245:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,".modal{display:flex;justify-content:center;align-items:center;position:fixed;padding:0 1rem;top:0;left:0;background-color:rgba(120,120,120,0.4);width:100%;height:100%;z-index:100}.modal-title{font-size:3rem;text-align:center;margin:0 auto;color:darkorange;padding:2.5rem;border-radius:2.5rem;background-color:blueviolet;text-shadow:0 0 3px #2b2b2b;box-shadow:0 0 3px #2b2b2b}\n",""]);const o=s},801:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.winner-header{display:flex;align-items:center;font-family:"Stylish", serif;margin-top:2rem;width:95vw;max-width:80rem}.winner-header button{font-family:"Stylish", serif;font-weight:bold;text-transform:uppercase;padding:.3rem 0;border:none;border-radius:4px;background-color:blueviolet;color:white;cursor:pointer;transition:.3s}.winner-header button:hover{background-color:white;color:black;transform:scale(1.05)}\n',""]);const o=s},145:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'.winners-container{font-size:1.6rem;font-weight:bold;font-family:"Stylish", serif;border-radius:.4rem}.page-winners{display:flex;align-items:center;flex-direction:column}.list-winner{display:flex;flex-direction:column;gap:1rem;width:95vw;max-width:80rem;margin-top:1rem}.winner-header,.winner-item{display:flex;gap:0.5em;justify-content:space-between;align-items:flex-end;width:100%;padding:.5rem;border-radius:4px;text-align:center;background-color:lightgray;user-select:none}.winner-header .number,.winner-item .number{padding-left:.5rem;flex:0 0 5%}.winner-header .car,.winner-item .car{flex:0 0 18%;height:2.2rem}.winner-header .car svg,.winner-item .car svg{width:50px;height:2.2rem}.winner-header .name,.winner-item .name{flex:1 1 25%}.winner-header .wins,.winner-item .wins{flex:0 0 10%}.winner-header .time,.winner-item .time{flex:0 0 10%}\n',""]);const o=s},353:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),i=n.n(r),a=n(314),s=n.n(a)()(i());s.push([t.id,'*{margin:0;padding:0;box-sizing:border-box}html{font-size:10px;font-family:"Stylish", serif}body{background-color:#939393;padding:0 1rem}button{user-select:none}\n',""]);const o=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(s[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);r&&s[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},s=[],o=0;o<t.length;o++){var c=t[o],d=r.base?c[0]+r.base:c[0],l=a[d]||0,h="".concat(d," ").concat(l);a[d]=l+1;var u=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var m=i(p,r);r.byIndex=o,e.splice(o,0,{identifier:h,updater:m,references:1})}s.push(h)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<a.length;s++){var o=n(a[s]);e[o].references--}for(var c=r(t,i),d=0;d<a.length;d++){var l=n(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(72),e=n.n(t),r=n(825),i=n.n(r),a=n(659),s=n.n(a),o=n(56),c=n.n(o),d=n(540),l=n.n(d),h=n(113),u=n.n(h),p=n(353),m={};m.styleTagTransform=u(),m.setAttributes=c(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=l(),e()(p.A,m),p.A&&p.A.locals&&p.A.locals;var g=n(625),f={};f.styleTagTransform=u(),f.setAttributes=c(),f.insert=s().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=l(),e()(g.A,f),g.A&&g.A.locals&&g.A.locals;class v{constructor(t,e){this.buttonName=t,this.className=e,this.button=document.createElement("button"),this.addButtonText(),this.addClass()}disable(){this.button.disabled=!0}enable(){this.button.disabled=!1}addButtonText(){this.button.textContent=this.buttonName}addClass(){this.className&&(this.button.className=this.className)}get node(){return this.button}}var b=n(493),w={};w.styleTagTransform=u(),w.setAttributes=c(),w.insert=s().bind(null,"head"),w.domAPI=i(),w.insertStyleElement=l(),e()(b.A,w),b.A&&b.A.locals&&b.A.locals;const y="http://localhost:3000";var x,C,E;!function(t){t.ASC="ASC",t.DESC="DESC"}(x||(x={})),function(t){t.id="id",t.wins="wins",t.time="time"}(C||(C={})),function(t){t.next="next",t.prev="prev"}(E||(E={}));var A=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};const k=`${y}/garage`,B=`${y}/engine`,L=`${y}/winners`,N=(t,...e)=>A(void 0,[t,...e],void 0,(function*(t,e=7){try{const n=yield fetch(`${k}?_page=${t}&_limit=${e}`),r=yield n.json();return{items:yield Promise.all(r),count:n.headers.get("X-Total-Count")}}catch(t){throw t instanceof Error?new Error(`Failed to fetch/get cars: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})),M=t=>A(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${k}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return yield e.json()}catch(t){throw t instanceof Error?new Error(`Failed to create car: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})),S=(t,e)=>A(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${B}?id=${t}&status=${e}`,{method:"PATCH"});return yield n.json()}catch(t){throw t instanceof Error?new Error(`Failed to update engine status: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})),P=(t,...e)=>A(void 0,[t,...e],void 0,(function*(t,e="time",n="ASC",r=10){try{const i=yield fetch(`${L}/?_page=${t}&_limit=${r}&_sort=${e}&_order=${n}`);return{result:yield i.json(),totalCount:i.headers.get("X-Total-Count")||"0"}}catch(t){throw t instanceof Error?new Error(`Failed to fetch/get winners: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}}));var T=n(664),z={};z.styleTagTransform=u(),z.setAttributes=c(),z.insert=s().bind(null,"head"),z.domAPI=i(),z.insertStyleElement=l(),e()(T.A,z),T.A&&T.A.locals&&T.A.locals;class ${constructor(){this.container=document.createElement("div"),this.container.className="page-data-counter",this.pageNumber=document.createElement("p"),this.carCount=document.createElement("p")}updateState(t,e,n=0){this.pageNumber.innerHTML=`Page: ${t}`,this.carCount.innerHTML=`${e}: ${n}`}render(){return this.container.append(this.pageNumber,this.carCount),this.container}}var R=n(721),I={};function W(t){return`\n<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="1280.000000pt" height="640.000000pt" viewBox="0 0 1280.000000 640.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="${t}" stroke="none">\n<path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n-10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n-250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n-49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n58 -13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n-54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n-62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n-70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n232 -230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n-411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n-407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n-163 84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n-88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n-10 68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n-44 -6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n-24 13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n-67 12z"/>\n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n-113z"/>\n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n61 239 98 16 10 -216 242 -234 235z"/>\n</g>\n</svg>\n`}I.styleTagTransform=u(),I.setAttributes=c(),I.insert=s().bind(null,"head"),I.domAPI=i(),I.insertStyleElement=l(),e()(R.A,I),R.A&&R.A.locals&&R.A.locals;class D{constructor(t){this.color=t,this.container=document.createElement("div"),this.road=document.createElement("div"),this.car=document.createElement("div"),this.finish=document.createElement("div"),this.start=new v("start","start"),this.stop=new v("stop","stop"),this.fire=document.createElement("div"),this.smoke=document.createElement("div"),this.road.append(this.car,this.finish),this.btnWrapper=document.createElement("div"),this.btnWrapper.append(this.start.node,this.stop.node),this.container.append(this.btnWrapper,this.road),this.addAttribute()}addAttribute(){this.container.className="car-road",this.road.className="road",this.car.className="car",this.car.innerHTML=W(this.color),this.car.append(this.fire,this.smoke),this.fire.innerHTML='\n<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">\n<path fill="red" d="M319.4 1024c-67.5-142.2-32-223.9 21.3-298.5 56.9-85.3 71.1-167 71.1-167s46.2 56.9 28.4 149.3c78.2-88.9 92.4-231 81.7-284.3 177.7 124.4 255.9 398.1 152.8 597.1 547.3-312.8 135.1-778.3 64-828.1 24.9 53.3 28.4 142.2-21.3 184.8C635.7 64.4 433.1 4 433.1 4c24.9 159.9-85.3 334.1-191.9 465.6-3.6-64-7.1-106.6-42.6-170.6-7.1 117.3-96 209.7-120.8 327-32 159.9 24.8 273.6 241.6 398z m0 0"/>\n</svg>\n  ',this.smoke.innerHTML='\n  \n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 150" x="0px" y="0px">\n<title>32 Smoke</title>\n<path d="M72.44,73.7A10.77,10.77,0,0,0,68.3,53.18a10.75,10.75,0,0,0,2.19-4.39,8.77,8.77,0,0,0,1.86-15.94,6.82,6.82,0,0,0-10.74-7.58,10.76,10.76,0,0,0-16.28,8.56,7.83,7.83,0,0,0-5,14.79,13.72,13.72,0,0,0,6.32,23.9,10.78,10.78,0,0,0,6.59,15.55,6.83,6.83,0,0,0,13.6.1A7.81,7.81,0,0,0,72.44,73.7Z"/>\n<path d="M45.29,21.77a5.82,5.82,0,0,0-.62-2.57,4.94,4.94,0,1,0-7-3,5.87,5.87,0,1,0,7.66,5.58Z"/>\n<path d="M69.34,92.81c.27-.17.55-.33.81-.51l-.55.06C69.52,92.52,69.42,92.66,69.34,92.81Z"/>\n<path d="M60.31,96.32a4.89,4.89,0,0,0-4.48,7.31,3.93,3.93,0,1,0,6.9,1.71,4.9,4.9,0,0,0-2.42-9Z"/>\n</svg>\n\x3c!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve">--\x3e\n\x3c!--<g>--\x3e\n\x3c!--<path d="M73.392,21.032c-3.223-3.631-7.469-5.791-11.874-6.429C52.845,5.318,39.312,5.069,30,13.333c-9.464,8.4-11,23-0.795,33.718   c0.254,0.267,0.124,0.145-0.005,0.016c-1.845,5.375-1.24,14.216,4.145,18.01c-0.156-0.107-0.229-0.155,0.114,0.089   c-3,7.167-1.303,12.318,4.031,15.985c-0.679,2.042-1.906,5.265,0.757,8.596c2.74,3.428,10.389,4.366,14.89,0.613   c4.031-3.361,3.488-7.568,2.322-10.235c4-2,8.99-5.224,6.787-12.659c1.603-2.012,2.099-3.799,2.369-6.273   c2.197-0.461,4.298-1.469,6.084-3.055c3.765-3.34,5.165-8.362,4.133-13.04C79.951,38.04,79.568,27.991,73.392,21.032z    M30.41,15.316c8.385-8.263,21.882-8.163,30.143,0.221c0.135,0.135,0.262,0.28,0.391,0.418c-8.293-7.981-21.481-7.953-29.729,0.176   C22.965,24.26,22.74,37.446,30.6,45.856c-0.138-0.131-0.277-0.261-0.412-0.398C21.928,37.075,22.025,23.58,30.41,15.316z    M35.344,66.133C38.387,61.619,45.485,59.453,50,62.5c-4.49-2.863-11.224-0.508-14.217,3.93   c-2.995,4.441-1.891,10.441,2.444,13.533c-0.072-0.047-0.148-0.094-0.223-0.143C33.492,76.775,32.298,70.648,35.344,66.133z    M37.838,87.07C37.101,84.6,38.116,80,41.325,79c-3.117,1.013-3.898,5.673-3.175,8.101c0.732,2.432,4.684,4.9,8.017,4.733   C42.813,92.002,38.58,89.543,37.838,87.07z M53.794,79.275c0.947,0.969,1.588,2.771,1.712,4.097   c0.351,3.781-2.759,7.987-7.683,8.444c-0.079,0.008-0.159,0.012-0.239,0.018c4.806-0.545,7.559-4.61,7.214-8.329   c-0.118-1.293-0.984-2.731-1.857-3.716l-0.018-0.02c-1.637-1.844-4.324-3.035-7.458-2.807c3.184-0.293,6.546,0.506,8.304,2.285   c4.733-1.584,7.718-5.656,6.763-9.461c-1.007-3.988-5.967-6.189-11.152-4.994c0.082-0.021,0.168-0.047,0.253-0.07   c5.28-1.328,10.391,0.881,11.411,4.936C62.035,73.592,58.808,77.811,53.794,79.275z M62.133,64.227   c-0.037,0.094-0.081,0.186-0.119,0.279c2.105-5.742-0.732-12.146-6.45-14.418c-5.718-2.272-12.178,0.441-14.584,6.065   c0.036-0.096,0.069-0.191,0.105-0.285c2.308-5.812,8.893-8.654,14.704-6.346C61.601,51.83,64.439,58.414,62.133,64.227z    M39.956,38.595c-8.595,4.398-12.072,14.829-7.927,23.485c-0.077-0.139-0.154-0.275-0.229-0.418   c-4.472-8.734-1.017-19.444,7.719-23.918c8.736-4.472,19.443-1.014,23.915,7.721c0.074,0.142,0.139,0.288,0.207,0.431   C59.045,37.472,48.547,34.195,39.956,38.595z M64.262,59.494c-0.109,0.023-0.217,0.049-0.327,0.074   c6.523-1.881,10.53-8.057,8.986-13.946c-1.554-5.894-8.08-9.298-14.685-7.726c0.107-0.03,0.216-0.063,0.323-0.096   c6.714-1.763,13.44,1.661,15.013,7.647C75.145,51.436,70.977,57.727,64.262,59.494z M73.803,45.777   c4.245-8.875,2.873-21.952-6.318-26.665c-9.192-4.715-18.631-1.702-23.363,6.926c0.071-0.145,0.138-0.295,0.213-0.44   c4.59-8.953,14.25-12.15,23.597-7.358c9.342,4.792,10.697,18.155,6.106,27.107C73.963,45.494,73.88,45.635,73.803,45.777z"/>--\x3e\n\x3c!--<path d="M29.2,47.068c0.002-0.005,0.003-0.011,0.005-0.016C28.939,46.802,29.07,46.938,29.2,47.068z"/>--\x3e\n\x3c!--</g>--\x3e\n\x3c!--</svg>--\x3e\n  ',this.finish.className="finish",this.finish.innerHTML='\n<?xml version="1.0" encoding="iso-8859-1"?>\n<svg height="800px" width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n\t viewBox="0 0 20.695 20.695" xml:space="preserve">\n<g>\n\t<path style="fill:#030104;" d="M10.099,3.996l0.898,1.453L9.372,6.64L8.447,5.144L7.141,5.952L6.332,4.645L7.64,3.836l0.809,1.306\n\t\tL10.099,3.996z M10.181,7.946L9.374,6.64L8.066,7.448l0.807,1.306L10.181,7.946z M17.667,5.115l-0.144,0.312\n\t\tc-0.26,1.43-1.146,2.388-1.805,2.795c-1.426,0.881-2.903,0.353-2.964,0.331c-0.958-0.203-1.814-0.087-2.52,0.35\n\t\tC8.926,9.712,8.553,11.37,8.55,11.389l-0.087,0.407l5.182,8.378l-0.839,0.521L3.577,5.775C3.4,5.845,3.193,5.787,3.089,5.619\n\t\tC2.971,5.428,3.03,5.18,3.22,5.062l0.694-0.428C4.102,4.516,4.352,4.575,4.47,4.766C4.568,4.925,4.537,5.12,4.414,5.251\n\t\tl0.249,0.404l0.006-0.013C5.211,4.327,5.901,3.404,6.719,2.9c1.484-0.917,2.84-0.154,2.897-0.121\n\t\tc1.16,0.676,1.986,0.458,2.474,0.156c0.209-0.13,0.319-0.256,0.319-0.256c1.146-1.005,1.607-2.143,1.81-2.559\n\t\tc0.202-0.415,0.563,0.383,0.563,0.383L17.667,5.115z M14.049,1.209l0.209,0.338l0.513-0.4l-0.41-0.662\n\t\tC14.277,0.652,14.201,0.956,14.049,1.209z M8.442,10.6l-0.235,0.146l0.111,0.177C8.35,10.83,8.393,10.717,8.442,10.6z\n\t\t M12.691,8.188l-0.18-0.291l-0.176,0.238C12.452,8.148,12.572,8.164,12.691,8.188z M13.958,7.312L13.251,6.17l1.433-1.01\n\t\tl-0.809-1.306l-1.431,1.012l-0.839-1.355c-0.168,0.04-0.356,0.064-0.563,0.062L10.1,3.997L9.582,3.163\n\t\tC9.534,3.136,9.487,3.112,9.438,3.084C9.422,3.075,9.297,3.005,9.092,2.937L7.639,3.836L7.158,3.061\n\t\tC7.075,3.1,6.99,3.147,6.904,3.2C6.569,3.407,6.259,3.697,5.97,4.06l0.361,0.586L5.184,5.354C5.132,5.465,5.081,5.575,5.031,5.693\n\t\tl0.707,1.126L7.14,5.952l0.926,1.495L6.675,8.308l0.817,1.3l1.381-0.854l0.351,0.565c0.227-0.264,0.497-0.514,0.825-0.718\n\t\tc0.132-0.08,0.269-0.147,0.408-0.21l-0.276-0.446l1.632-1.176l-0.816-1.32l1.445-0.583l0.807,1.305l-1.435,0.598l0.669,1.081\n\t\tL13.958,7.312z M17.147,4.951l-0.021-0.034l-0.502,0.456l-0.698-1.126l0.526-0.409l-0.871-1.394L15.117,2.94l-0.858-1.39\n\t\tl-0.757,0.468c-0.133,0.176-0.281,0.349-0.438,0.519l0.812,1.315l1.243-0.913l0.807,1.308l-1.241,0.912l0.707,1.142l-1.396,1.072\n\t\tl0.576,0.93c0.312-0.065,0.639-0.182,0.961-0.381c0.205-0.127,0.397-0.282,0.576-0.461l-0.717-1.159l1.232-0.929l0.41,0.663\n\t\tL17.147,4.951z"/>\n</g>\n</svg>\n',this.stop.disable(),this.btnWrapper.className="start-stop-wrapper",this.fire.className="fire",this.smoke.className="smoke"}get getNode(){return{start:this.start.node,stop:this.stop.node,car:this.car,line:this.road,fire:this.fire,smoke:this.smoke}}get getButtons(){return{start:this.start,stop:this.stop}}render(){return this.container}}const F=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Dodge","DS Auto","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],H=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","Duster","CR-V","Corolla","C4","DS3","C1","C3","DS4","UX 250h","NX 300h","LC 500","RX 350","Rapid","Largus","IS 200t","LS 500h","RX","ES 350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"];const j=t=>t<400?4:t<600?2.5:t<900?1.5:t>900?1:0;function X(){return`#${`${Math.random().toString(16)}000000`.slice(2,8)}`}function G(t){return t[Math.floor(Math.random()*t.length)]}var O=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};class V{constructor(t,e,n,r,i,a){this.car=t,this.update=e,this.renderList=n,this.checkRace=r,this.winner=i,this.brokenRace=a,this.container=document.createElement("div"),this.container.className="car-item",this.title=document.createElement("p"),this.title.textContent=this.car.name,this.id=this.car.id,this.remove=new v("remove"),this.select=new v("select"),this.carRoad=new D(this.car.color),this.state={stateCar:"stopped",distance:0,bool:!1,check:!1,btnStop:!0},this.createCar()}startCar(){return O(this,void 0,void 0,(function*(){const t=this.carRoad.getNode.line.clientWidth;this.remove.disable(),this.state.check=!0,this.state.btnStop=!0,this.carRoad.getButtons.start.disable(),this.carRoad.getButtons.stop.enable();const e=yield S(this.id,"started");this.state.stateCar="started";const n=(r=this.id,A(void 0,void 0,void 0,(function*(){try{return yield fetch(`${B}?id=${r}&status=drive`,{method:"PATCH"})}catch(t){throw t instanceof Error?new Error(`Failed to update drive state: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})));var r;this.state.bool=!0;const i=()=>O(this,void 0,void 0,(function*(){yield this.checkRace();const r=+(t/e.velocity*j(t)).toFixed(2);this.state.distance+=e.velocity*(.016/j(t)),this.carRoad.getNode.car.style.left=`${this.state.distance}px`,this.checkRaceStart(),this.state.distance<t-48&&this.state.bool&&"started"===this.state.stateCar?requestAnimationFrame(i):this.state.distance>=t-48&&(yield this.winner.viewWinner(this.car,r),this.winner.setState=!1),500===(yield n).status&&(this.brokenRace(),this.state.check&&this.carRoad.getButtons.stop.enable(),this.state.bool=!1,this.state.check=!1,this.remove.enable(),this.carRoad.getNode.fire.style.opacity="1",this.carRoad.getNode.smoke.style.opacity="1")}));requestAnimationFrame(i)}))}checkRaceStart(){this.state.check&&(this.winner.state.race?(this.carRoad.getButtons.stop.disable(),this.remove.disable()):(this.carRoad.getButtons.stop.enable(),this.remove.enable(),this.state.check=!1))}stopCar(){return O(this,void 0,void 0,(function*(){this.state.btnStop=!1,this.carRoad.getButtons.stop.disable(),yield S(this.id,"stopped"),this.state.stateCar="stopped",yield this.checkRace(),this.state.distance=0,this.state.check=!1,this.state.bool=!1,this.carRoad.getButtons.start.enable(),this.state.btnStop||(this.state.distance=0,this.carRoad.getButtons.stop.disable(),this.carRoad.getButtons.start.enable()),this.carRoad.getNode.car.style.left=`${this.state.distance}%`,this.carRoad.getNode.fire.style.opacity="0",this.carRoad.getNode.smoke.style.opacity="0"}))}removeButton(){return O(this,void 0,void 0,(function*(){var t,e;this.remove.disable(),this.select.disable(),(yield P(1,C.id,x.ASC,9999)).result.find((t=>t.id===this.id))&&(yield(e=this.id,A(void 0,void 0,void 0,(function*(){try{yield fetch(`${L}/${e}`,{method:"DELETE"})}catch(t){throw t instanceof Error?new Error(`Failed to delete winner: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})))),yield this.stopCar(),yield(t=this.id,A(void 0,void 0,void 0,(function*(){try{yield fetch(`${k}/${t}`,{method:"DELETE"})}catch(t){throw t instanceof Error?new Error(`Failed to delete car: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}}))),yield this.renderList(this.id)}))}selectButton(){this.update.enable(),this.update.carBuilderPanelElements.name.focus(),this.update.carBuilderPanelElements.name.value=this.car.name,this.update.carBuilderPanelElements.color.value=this.car.color,this.update.getId=this.id,this.update.selectedCar.name=this.title,this.update.selectedCar.color=this.carRoad.getNode.car}addListeners(){this.carRoad.getNode.start.addEventListener("click",(()=>this.startCar())),this.carRoad.getNode.stop.addEventListener("click",(()=>this.stopCar())),this.remove.node.addEventListener("click",(()=>this.removeButton())),this.select.node.addEventListener("click",(()=>this.selectButton()))}createCar(){this.addListeners(),this.container.append(this.remove.node,this.select.node,this.title,this.carRoad.render())}render(){return this.container}}var J=n(245),_={};_.styleTagTransform=u(),_.setAttributes=c(),_.insert=s().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=l(),e()(J.A,_),J.A&&J.A.locals&&J.A.locals;var U=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};class Z{constructor(){this.container=document.createElement("div"),this.title=document.createElement("h2"),this.state={race:!1},this.winners=[]}viewWinner(t,e){return U(this,void 0,void 0,(function*(){if(this.state.race)if(this.addRemoveModalListener(),this.container.className="modal",this.title.className="modal-title",this.title.innerHTML=`${t.name} wins! <br> With ${e}s!`,this.container.append(this.title),yield this.getWinners(),this.winners.includes(t.id)){const i=yield(r=t.id,A(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${L}/${r}`);return yield t.json()}catch(t){throw t instanceof Error?new Error(`Failed to fetch/get winner: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})));yield(n={id:t.id,time:i.time<e?i.time:e,wins:i.wins+=1},A(void 0,void 0,void 0,(function*(){try{yield fetch(`${L}/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(t){throw t instanceof Error?new Error(`Failed to update winner: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})))}else yield(t=>A(void 0,void 0,void 0,(function*(){try{yield fetch(`${L}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){throw t instanceof Error?new Error(`Failed to create winner: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}})))({id:t.id,time:e,wins:1});var n,r;this.state.race=!1}))}getWinners(){return U(this,void 0,void 0,(function*(){const t=yield P(1,C.id,x.ASC,1e3);this.winners=t.result.map((t=>t.id))}))}addRemoveModalListener(){this.container.addEventListener("click",(()=>{this.container.className="",this.container.innerHTML=""}))}set setState(t){this.state.race=t}render(){return this.container}}var Y=n(299),q={};q.styleTagTransform=u(),q.setAttributes=c(),q.insert=s().bind(null,"head"),q.domAPI=i(),q.insertStyleElement=l(),e()(Y.A,q),Y.A&&Y.A.locals&&Y.A.locals;class K{constructor(){this.container=document.createElement("div"),this.container.className="pagination",this.prev=new v("prev","prev"),this.next=new v("next","next")}get getNode(){return{prev:this.prev.node,next:this.next.node}}get getButton(){return{prev:this.prev,next:this.next}}render(){return this.container.append(this.prev.node,this.next.node),this.container}}class Q{constructor(t,e){this.type=t,this.className=e,this.input=document.createElement("input"),this.addType(),this.addClass()}addType(){this.input.type=this.type}addClass(){this.className&&(this.input.className=this.className)}enable(){this.input.disabled=!1}disable(){this.input.disabled=!0}get node(){return this.input}}var tt=n(244),et={};et.styleTagTransform=u(),et.setAttributes=c(),et.insert=s().bind(null,"head"),et.domAPI=i(),et.insertStyleElement=l(),e()(tt.A,et),tt.A&&tt.A.locals&&tt.A.locals;class nt{constructor(t){this.buttonName=t,this.container=document.createElement("div"),this.container.className="car-builder-panel",this.inputCarName=new Q("text"),this.inputColor=new Q("color"),this.button=new v(this.buttonName),this.getId=0,this.selectedCar={name:void 0,color:void 0},this.setAttribute()}setAttribute(){this.inputCarName.node.value="",this.inputColor.node.value=X(),this.inputCarName.node.className="input-car-name",this.inputColor.node.className="input-color-picker"}disable(){this.inputCarName.disable(),this.inputColor.disable(),this.button.disable()}enable(){this.inputCarName.enable(),this.inputColor.enable(),this.button.enable()}get carBuilderPanelElements(){return{name:this.inputCarName.node,color:this.inputColor.node,button:this.button.node}}render(){return this.container.append(this.inputCarName.node,this.inputColor.node,this.button.node),this.container}}var rt=n(679),it={};it.styleTagTransform=u(),it.setAttributes=c(),it.insert=s().bind(null,"head"),it.domAPI=i(),it.insertStyleElement=l(),e()(rt.A,it),rt.A&&rt.A.locals&&rt.A.locals;class at{constructor(){this.container=document.createElement("div"),this.container.className="control-buttons",this.race=new v("race","race"),this.reset=new v("reset","reset"),this.reset.disable(),this.carsGenerator=new v("generate 100 models","cars-generator")}get getNode(){return{race:this.race.node,reset:this.reset.node,generator:this.carsGenerator.node}}get controlButtons(){return{race:this.race,reset:this.reset,generator:this.carsGenerator}}render(){return this.container.append(this.race.node,this.reset.node,this.carsGenerator.node),this.container}}var st=n(993),ot={};ot.styleTagTransform=u(),ot.setAttributes=c(),ot.insert=s().bind(null,"head"),ot.domAPI=i(),ot.insertStyleElement=l(),e()(st.A,ot),st.A&&st.A.locals&&st.A.locals;var ct=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};class dt{constructor(t){this.renderList=t,this.container=document.createElement("div"),this.container.className="panel",this.createInput=new nt("create"),this.updateInput=new nt("update"),this.updateInput.disable(),this.controlButtons=new at,this.addListeners()}createCar(){return ct(this,void 0,void 0,(function*(){this.createInput.carBuilderPanelElements.name.value&&(yield M({name:this.createInput.carBuilderPanelElements.name.value,color:this.createInput.carBuilderPanelElements.color.value}),yield this.renderList(),this.createInput.carBuilderPanelElements.name.value="",this.createInput.carBuilderPanelElements.color.value=X())}))}updateBtn(){return ct(this,void 0,void 0,(function*(){var t,e;yield(t=this.updateInput.getId,e={name:this.updateInput.carBuilderPanelElements.name.value,color:this.updateInput.carBuilderPanelElements.color.value},A(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${k}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return yield n.json()}catch(t){throw t instanceof Error?new Error(`Failed to update car: ${t.message}`):new Error(`An unknown error occurred: ${t}`)}}))),this.updateInput.selectedCar.color&&this.updateInput.selectedCar.name&&(this.updateInput.selectedCar.name.textContent=this.updateInput.carBuilderPanelElements.name.value,this.updateInput.selectedCar.color.innerHTML=W(this.updateInput.carBuilderPanelElements.color.value)),this.updateInput.carBuilderPanelElements.name.value="",this.updateInput.disable()}))}addListeners(){this.createInput.carBuilderPanelElements.button.addEventListener("click",(()=>this.createCar())),this.updateInput.carBuilderPanelElements.button.addEventListener("click",(()=>this.updateBtn()))}get getNode(){return{create:this.createInput.carBuilderPanelElements,update:this.updateInput.carBuilderPanelElements,buttons:this.controlButtons}}get carBuilderPanels(){return{create:this.createInput,update:this.updateInput,buttons:this.controlButtons.controlButtons}}render(){return this.container.append(this.createInput.render(),this.updateInput.render(),this.controlButtons.render()),this.container}}var lt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};class ht{constructor(){this.garage=document.createElement("div"),this.garage.className="garage",this.page=1,this.count=0,this.pageDataCounter=new $,this.list=document.createElement("div"),this.list.className="garage-list",this.cars=[],this.paginationButton=new K,this.controlPanel=new dt(this.renderList.bind(this)),this.renderList(),this.modalWinner=new Z,this.addListeners()}renderList(t){return lt(this,void 0,void 0,(function*(){yield this.garageView();const e=yield N(this.page),n=this.cars.map((t=>t.id));t&&(this.cars=this.cars.filter((e=>e.id!==t))),this.cars.length<7&&(e.items.forEach((t=>{n.includes(t.id)||this.cars.push(new V(t,this.controlPanel.carBuilderPanels.update,this.renderList.bind(this),this.checkRaceReset.bind(this),this.modalWinner,this.brokenRace.bind(this)))})),this.list.innerHTML="",this.cars.forEach((t=>this.list.append(t.render())))),this.checkCarsCount(),0===e.items.length&&(yield this.pagination(E.prev))}))}checkRaceReset(){return lt(this,void 0,void 0,(function*(){if(this.modalWinner.state.race)this.controlPanel.carBuilderPanels.buttons.reset.disable(),this.controlPanel.carBuilderPanels.buttons.race.disable(),this.paginationButton.getButton.prev.disable(),this.paginationButton.getButton.next.disable();else{const t=this.cars.filter((t=>"started"===t.state.stateCar));t.length>0?(this.controlPanel.carBuilderPanels.buttons.reset.enable(),this.controlPanel.carBuilderPanels.buttons.race.disable()):(this.controlPanel.carBuilderPanels.buttons.reset.disable(),this.controlPanel.carBuilderPanels.buttons.race.enable()),this.checkCarsCount()}}))}pagination(t){return lt(this,void 0,void 0,(function*(){if(this.paginationButton.getButton.prev.disable(),this.paginationButton.getButton.next.disable(),t===E.next)this.page+=1;else{if(this.page-1<1)return;this.page-=1}this.cars.forEach((t=>lt(this,void 0,void 0,(function*(){yield t.stopCar()})))),this.cars.length=0,yield this.renderList(),this.checkCarsCount()}))}checkCarsCount(){this.page<=1?this.paginationButton.getButton.prev.disable():this.paginationButton.getButton.prev.enable(),this.count/7<=this.page?this.paginationButton.getButton.next.disable():this.paginationButton.getButton.next.enable()}brokenRace(){const t=this.cars.filter((t=>t.state.check));0===t.length&&(this.modalWinner.setState=!1)}raceStart(){return lt(this,void 0,void 0,(function*(){this.modalWinner.setState=!0,this.cars.forEach((t=>{t.state.check||t.startCar()}))}))}raceReset(){return lt(this,void 0,void 0,(function*(){this.cars.forEach((t=>{t.state.btnStop?t.stopCar():this.controlPanel.carBuilderPanels.buttons.reset.disable()}))}))}generatorCars(){return lt(this,void 0,void 0,(function*(){var t,e,n,r;this.controlPanel.carBuilderPanels.buttons.generator.disable(),yield(t=void 0,e=void 0,n=void 0,r=function*(){const t=[];let e=0;for(;e<100;){const n=`${G(F)} ${G(H)}`;t.push(M({name:n,color:X()})),e+=1}yield Promise.all(t)},new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))),yield this.garageView(),yield this.renderList(),this.controlPanel.carBuilderPanels.buttons.generator.enable()}))}garageView(){return lt(this,void 0,void 0,(function*(){const t=yield N(this.page);t.count&&(this.pageDataCounter.updateState(this.page,"Total cars in garage",Number(t.count)),this.count=Number(t.count))}))}addListeners(){this.paginationButton.getNode.next.addEventListener("click",(()=>this.pagination(E.next))),this.paginationButton.getNode.prev.addEventListener("click",(()=>this.pagination(E.prev))),this.controlPanel.getNode.buttons.getNode.race.addEventListener("click",(()=>this.raceStart())),this.controlPanel.getNode.buttons.getNode.reset.addEventListener("click",(()=>this.raceReset())),this.controlPanel.getNode.buttons.getNode.generator.addEventListener("click",(()=>this.generatorCars()))}render(){return this.garageView(),this.garage.append(this.modalWinner.render(),this.controlPanel.render(),this.pageDataCounter.render(),this.list,this.paginationButton.render()),this.garage}}var ut=n(145),pt={};pt.styleTagTransform=u(),pt.setAttributes=c(),pt.insert=s().bind(null,"head"),pt.domAPI=i(),pt.insertStyleElement=l(),e()(ut.A,pt),ut.A&&ut.A.locals&&ut.A.locals;var mt=n(801),gt={};gt.styleTagTransform=u(),gt.setAttributes=c(),gt.insert=s().bind(null,"head"),gt.domAPI=i(),gt.insertStyleElement=l(),e()(mt.A,gt),mt.A&&mt.A.locals&&mt.A.locals;class ft{constructor(){this.header=document.createElement("div"),this.number=document.createElement("p"),this.car=document.createElement("p"),this.name=document.createElement("p"),this.wins=new v("Wins","wins"),this.time=new v("Time","time"),this.addAttributes()}addAttributes(){this.header.className="winner-header",this.number.textContent="#",this.number.className="number",this.car.textContent="Car",this.car.className="car",this.name.textContent="Name",this.name.className="name",this.time.node.textContent="time",this.wins.node.textContent="wins"}get getNode(){return{wins:this.wins.node,time:this.time.node}}render(){return this.header.append(this.number,this.car,this.name,this.wins.node,this.time.node),this.header}}var vt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(t){a(t)}}function o(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}c((r=r.apply(t,e||[])).next())}))};class bt{constructor(){this.container=document.createElement("div"),this.pageWinners=document.createElement("div"),this.listWinner=document.createElement("div"),this.paginationButton=new K,this.pageDataCounter=new $,this.order=x.ASC,this.sort=C.id,this.page=1,this.header=new ft,this.addClass(),this.addListeners()}addClass(){this.container.className="winners-container",this.pageWinners.className="page-winners",this.listWinner.className="list-winner"}createListWinner(){return vt(this,void 0,void 0,(function*(){const t=[],e=yield P(this.page,this.sort,this.order),n=yield N(1,9999);e&&n&&e.result.forEach((e=>{const r=n.items.find((t=>t.id===e.id));r&&t.push(r)})),this.checkPaginationButtonStatus(Number(e.totalCount)),this.pageDataCounter.updateState(this.page,"Winners",Number(e.totalCount)),this.listWinner.innerHTML="",e.result.forEach(((e,n)=>{this.createCarWinner(e,n,t[n])}))}))}changePage(t){t===E.next&&(this.page+=1),t===E.prev&&(this.page-=1),this.createListWinner()}addListeners(){this.paginationButton.getNode.next.addEventListener("click",(()=>this.changePage(E.next))),this.paginationButton.getNode.prev.addEventListener("click",(()=>this.changePage(E.prev))),this.header.getNode.wins.addEventListener("click",this.sortWinners(this.header.getNode.wins,C.wins)),this.header.getNode.time.addEventListener("click",this.sortWinners(this.header.getNode.time,C.time))}sortWinners(t,e){return()=>{this.sort=e;const n=t===this.header.getNode.wins?this.header.getNode.time:this.header.getNode.wins;n.classList.remove(x.ASC,x.DESC),t.className.includes(x.ASC)?(this.order=x.DESC,t.classList.add(x.DESC),t.classList.remove(x.ASC)):(this.order=x.ASC,t.classList.add(x.ASC),t.classList.remove(x.DESC)),n.classList.remove(this.order===x.ASC?x.DESC:x.ASC),this.createListWinner()}}checkPaginationButtonStatus(t){this.page<=1?this.paginationButton.getButton.prev.disable():this.paginationButton.getButton.prev.enable(),t/10<=this.page?this.paginationButton.getButton.next.disable():this.paginationButton.getButton.next.enable()}createCarWinner(t,e,n){return vt(this,void 0,void 0,(function*(){const r=document.createElement("div");r.innerHTML=`\n      <div class='number'>${e+1}</div>\n      <div class="car">${W(n.color)}</div>\n      <div class='name'>${n.name}</div>\n      <div class='wins'>${t.wins}</div>\n      <div class='time'>${t.time}</div>\n    `,r.className="winner-item",this.listWinner.append(r)}))}render(){return this.createListWinner(),this.pageWinners.append(this.pageDataCounter.render(),this.header.render(),this.listWinner,this.paginationButton.render()),this.container.append(this.pageWinners),this.container}}(new class{constructor(){this.main=document.createElement("main"),this.page=document.createElement("div"),this.buttonContainer=document.createElement("div"),this.garageButton=new v("garage","page-button"),this.winnerButton=new v("winners","page-button"),this.garage=new ht,this.winners=new bt}addBtnListeners(){this.garageButton.node.addEventListener("click",(()=>this.renderGarage())),this.winnerButton.node.addEventListener("click",(()=>this.renderWinner()))}renderGarage(){this.main.innerHTML="",this.main.append(this.garage.render()),this.garageButton.node.classList.add("active"),this.winnerButton.node.classList.remove("active")}renderWinner(){this.main.innerHTML="",this.main.append(this.winners.render()),this.winnerButton.node.classList.add("active"),this.garageButton.node.classList.remove("active")}render(){this.buttonContainer.className="page-buttons-container",this.page.className="page",this.addBtnListeners(),this.renderGarage(),this.buttonContainer.append(this.garageButton.node,this.winnerButton.node),this.page.append(this.buttonContainer,this.main),document.body.append(this.page)}}).render()})()})();